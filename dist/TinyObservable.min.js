!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).TinyObservable=t()}(this,function(){"use strict";const e=function(){function e(e,t){this.id=`${Math.random()}`.split(".").join(""),this.observable=e,this.success=t}return e.prototype.unsubscribe=function(){this.observable.observers=this.observable.observers.filter(e=>e.id!==this.id)},e}(),t=function(){function e(e,t){this.id=`${Math.random()}`.split(".").join(""),this.observable=e,this.success=t}return e.prototype.unsubscribe=function(){this.observable.observers=this.observable.observers.filter(e=>e.id!==this.id),this.observable.elementListeners=this.observable.elementListeners.filter(e=>e.listenerFn===this.success&&(e.el.removeEventListener(e.eventType,e.listenerFn,!1),!0))},e}();return function(){function s(e="normal"){this.observers=[],this.elementListeners=[],this.type=e}return s.prototype.subscribe=function(s){let n;switch(this.type){case"normal":n=new e(this,s);break;case"raf":n=new e(this,s),window.requestAnimationFrame(e=>this.next(e));break;case"event":n=new t(this,s)}return this.observers.push(n),n},s.prototype.next=function(e){"raf"===this.type&&window.requestAnimationFrame(e=>this.next(e)),this.observers.forEach(t=>t.success(e))},s.fromEvent=function(e,t){const n=new s("event"),i=n.next.bind(n);return t.addEventListener(e,i),n.elementListeners.push({el:t,eventType:e,listenerFn:i}),n},s.fromRaf=function(){return new s("raf")},s}()});